<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <!-- begin SEO -->
  <title id="page-title">Blog Post - Marawan Gamal</title>
  <meta property="og:locale" content="en-US" />
  <meta property="og:site_name" content="Marawan Gamal" />
  <meta property="og:title" content="Blog Post" id="og-title" />
  <link rel="canonical" href="https://marawangamal.github.io/blog-post.html" />
  <meta property="og:url" content="https://marawangamal.github.io/blog-post.html" />
  <meta property="og:description" content="Technical blog post by Marawan Gamal" id="page-description" />
  <meta name="description" content="Technical blog post by Marawan Gamal" id="meta-description" />
  <meta name="keywords" content="Marawan Gamal, Blog, Computer Science, Machine Learning" />
  <meta name="author" content="Marawan Gamal" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="article" />
  <meta property="og:image" content="https://marawangamal.github.io/images/profile.png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:title" content="Marawan Gamal - Blog Post" id="twitter-title" />
  <meta property="twitter:description" content="Technical blog post by Marawan Gamal" id="twitter-description" />
  <meta property="twitter:image" content="https://marawangamal.github.io/images/profile.png" />
  
  <!-- end SEO -->
  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  
  <!-- Favicons -->
  <link rel="icon" type="image/svg+xml" href="images/favicon-32x32.svg" />
  <link rel="icon" type="image/png" href="images/favicon-32x32.png" />
  <link rel="shortcut icon" href="images/favicon.ico" />
  <meta name="theme-color" content="#0066cc" />
  
  <!-- Font loading optimization -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  
  <!-- MathJax for rendering math -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      },
      svg: {
        fontCache: 'global'
      }
    };
  </script>
  
  <!-- Marked.js for markdown parsing -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  
  <style>
    /* ===== Color theme pulled from user sample ===== */
    :root {
      --text: #1a1a1a;
      --text-light: #555;
      --accent: #0066cc;
      --border: #ddd;
      --bg: #fff;
      --bg-secondary: #f5f5f5;
      --shadow: rgba(0, 0, 0, 0.1);
    }
    @media (prefers-color-scheme: dark) {
      :root {
        --text: #e6e6e6;
        --text-light: #888;
        --accent: #4d9fff;
        --border: #444;
        --bg: #111;
        --bg-secondary: #1a1a1a;
        --shadow: rgba(0, 0, 0, 0.3);
      }
    }

    /* ===== Base ===== */
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
    body{font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);min-height:100vh;display:flex;line-height:1.6;font-size:16px;}
    
    /* ===== Navigation (hidden for clean design) ===== */
    header{display:none;}
    
    /* ===== Mobile Header ===== */
    .mobile-header{display:none;position:sticky;top:0;z-index:100;background:var(--bg-secondary);border-bottom:1px solid var(--border);}
    .mobile-header-content{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;}
    .mobile-profile{display:flex;align-items:center;gap:1rem;}
    .mobile-avatar{width:45px;height:45px;border-radius:50%;object-fit:cover;border:2px solid var(--border);}
    .mobile-info h2{font-size:1rem;font-weight:600;margin:0;color:var(--text);}
    .mobile-info p{font-size:0.8rem;color:var(--text-light);margin:0;line-height:1.3;}
    .mobile-menu-btn{display:flex;flex-direction:column;gap:3px;padding:8px;border:none;background:none;cursor:pointer;border-radius:6px;transition:background 0.2s ease;}
    .mobile-menu-btn:hover{background:var(--bg);}
    .mobile-menu-btn span{width:20px;height:2px;background:var(--text);transition:all 0.3s ease;border-radius:1px;}
    .mobile-menu-btn.active span:nth-child(1){transform:rotate(45deg) translate(5px,5px);}
    .mobile-menu-btn.active span:nth-child(2){opacity:0;}
    .mobile-menu-btn.active span:nth-child(3){transform:rotate(-45deg) translate(7px,-6px);}
    
    /* ===== Mobile Menu ===== */
    .mobile-menu{position:fixed;top:0;left:0;right:0;bottom:0;background:var(--bg);z-index:99;transform:translateX(-100%);transition:transform 0.3s ease;display:flex;flex-direction:column;}
    .mobile-menu.active{transform:translateX(0);}
    .mobile-menu-header{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;border-bottom:1px solid var(--border);background:var(--bg-secondary);}
    .mobile-menu-close{background:none;border:none;font-size:1.5rem;cursor:pointer;color:var(--text-light);padding:8px;border-radius:6px;transition:background 0.2s ease;}
    .mobile-menu-close:hover{background:var(--bg-secondary);}
    .mobile-menu-nav{flex:1;padding:1.5rem;}
    .mobile-menu-nav a{display:block;padding:1rem;margin-bottom:0.5rem;border-radius:8px;font-size:1rem;font-weight:500;color:var(--text-light);text-decoration:none;transition:all 0.2s ease;border:1px solid transparent;}
    .mobile-menu-nav a:hover,.mobile-menu-nav a.active{color:var(--accent);background:var(--bg-secondary);border-color:var(--border);}
    .mobile-menu-footer{display:flex;gap:1rem;padding:1.5rem;justify-content:center;border-top:1px solid var(--border);background:var(--bg-secondary);}
    .mobile-menu-footer a{display:flex;align-items:center;justify-content:center;width:45px;height:45px;border-radius:8px;background:var(--bg);border:1px solid var(--border);transition:all 0.2s ease;}
    .mobile-menu-footer a:hover{background:var(--accent);border-color:var(--accent);}
    .mobile-menu-footer a:hover svg{fill:white;}
    .mobile-menu-footer svg{width:20px;height:20px;fill:var(--text-light);transition:fill 0.2s ease;}
    
    .mobile-footer{display:none;}
    .mobile-footer-links{display:flex;gap:1rem;padding:1.5rem;justify-content:center;background:var(--bg-secondary);border-top:1px solid var(--border);}
    .mobile-footer-links a{display:flex;align-items:center;justify-content:center;width:50px;height:50px;border-radius:10px;background:var(--bg);border:1px solid var(--border);transition:all 0.2s ease;}
    .mobile-footer-links a:hover{background:var(--accent);border-color:var(--accent);}
    .mobile-footer-links a:hover svg{fill:white;}
    .mobile-footer-links svg{width:24px;height:24px;fill:var(--text-light);transition:fill 0.2s ease;}
    img{display:block;max-width:100%;}
    a{color:var(--accent);text-decoration:none;}
    a:hover{text-decoration:underline;}

    /* ===== Sidebar ===== */
    aside{flex:0 0 300px;padding:2rem 1.5rem;border-right:1px solid var(--border);position:sticky;top:0;height:100vh;display:flex;flex-direction:column;background:var(--bg-secondary);}
    /* ===== Sidebar Header ===== */
    .sidebar-header{display:flex;flex-direction:column;align-items:center;padding-bottom:1.5rem;border-bottom:1px solid var(--border);margin-bottom:1.5rem;}
    .avatar{width:100px;height:100px;border-radius:50%;object-fit:cover;border:2px solid var(--border);box-shadow:0 2px 8px var(--shadow);margin-bottom:1rem;}
    h1{font-size:1.3rem;font-weight:600;text-align:center;letter-spacing:-0.02em;margin:0 0 0.5rem 0;color:var(--text);}
    .role{font-size:.9rem;color:var(--text-light);text-align:center;line-height:1.4;margin:0;}
    .info{display:flex;align-items:center;justify-content:center;margin-top:0.75rem;}
    .info .location{display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:var(--text-light);padding:.4rem .8rem;border-radius:20px;background:var(--bg);border:1px solid var(--border);}
    .info .location span{font-size:0.9em;}
    
    /* ===== Sidebar Navigation ===== */
    .sidebar-nav{display:flex;flex-direction:column;gap:.25rem;flex:1;width:100%;}
    .sidebar-nav a{display:flex;align-items:center;padding:.75rem 1rem;border-radius:8px;font-size:.9rem;font-weight:500;color:var(--text-light);text-decoration:none;transition:all 0.2s ease;position:relative;letter-spacing:-0.005em;}
    .sidebar-nav a::before{content:'';position:absolute;left:0;top:0;bottom:0;width:3px;background:var(--accent);border-radius:0 2px 2px 0;transform:scaleY(0);transition:transform 0.2s ease;transform-origin:center;}
    .sidebar-nav a:hover{color:var(--text);background:var(--bg);}
    .sidebar-nav a:hover::before,.sidebar-nav a.active::before{transform:scaleY(1);}
    .sidebar-nav a.active{color:var(--accent);background:var(--bg);font-weight:600;}
    
    /* ===== Sidebar Footer ===== */
    .sidebar-footer{display:flex;gap:.75rem;justify-content:center;padding-top:1.5rem;border-top:1px solid var(--border);margin-top:auto;}
    .sidebar-footer a{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px;background:var(--bg);border:1px solid var(--border);transition:all 0.2s ease;}
    .sidebar-footer a:hover{background:var(--accent);border-color:var(--accent);transform:translateY(-1px);}
    .sidebar-footer a:hover svg{fill:white;}
    .sidebar-footer svg{width:18px;height:18px;fill:var(--text-light);transition:all 0.2s ease;}

    /* ===== Main ===== */
    main{flex:1;max-width:800px;margin:0 auto;padding:3rem 2.5rem 4rem;}
    
    /* ===== Blog Post Specific Styles ===== */
    .blog-header {
      margin-bottom: 3rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid var(--border);
    }
    .blog-title {
      font-size: 2.5rem;
      font-weight: 700;
      line-height: 1.2;
      margin-bottom: 1rem;
      color: var(--text);
    }
    .blog-meta {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }
    .blog-date {
      color: var(--text-light);
      font-size: 0.9rem;
    }
    .back-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--accent);
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 500;
      margin-bottom: 2rem;
      transition: all 0.2s ease;
    }
    .back-link:hover {
      color: var(--text);
      text-decoration: none;
    }
    .back-link svg {
      width: 16px;
      height: 16px;
      transition: transform 0.2s ease;
    }
    .back-link:hover svg {
      transform: translateX(-4px);
    }
    
    /* ===== Blog Content Styles ===== */
    .blog-content {
      line-height: 1.8;
      color: var(--text);
    }
    .blog-content h1,
    .blog-content h2,
    .blog-content h3,
    .blog-content h4,
    .blog-content h5,
    .blog-content h6 {
      margin: 2rem 0 1rem 0;
      font-weight: 600;
      line-height: 1.3;
      color: var(--text);
    }
    .blog-content h1 {
      font-size: 2rem;
      border-bottom: 2px solid var(--accent);
      padding-bottom: 0.5rem;
    }
    .blog-content h2 {
      font-size: 1.5rem;
      position: relative;
    }
    .blog-content h2::after {
      content: "";
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 30px;
      height: 2px;
      background: var(--accent);
      border-radius: 1px;
    }
    .blog-content h3 {
      font-size: 1.25rem;
    }
    .blog-content p {
      margin: 1.5rem 0;
      color: var(--text);
    }
    .blog-content em {
      color: var(--text-light);
      font-style: italic;
    }
    .blog-content strong {
      font-weight: 600;
      color: var(--text);
    }
    .blog-content ul,
    .blog-content ol {
      margin: 1.5rem 0;
      padding-left: 2rem;
    }
    .blog-content li {
      margin: 0.5rem 0;
      color: var(--text);
    }
    .blog-content blockquote {
      margin: 2rem 0;
      padding: 1rem 1.5rem;
      border-left: 4px solid var(--accent);
      background: var(--bg-secondary);
      border-radius: 0 8px 8px 0;
      color: var(--text-light);
      font-style: italic;
    }
    .blog-content pre {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1.5rem;
      overflow-x: auto;
      margin: 2rem 0;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 0.9rem;
      line-height: 1.5;
    }
    .blog-content code {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 4px;
      padding: 0.2rem 0.5rem;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 0.9em;
      color: var(--text);
    }
    .blog-content pre code {
      background: transparent;
      border: none;
      padding: 0;
    }
    .blog-content img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      margin: 2rem auto;
      display: block;
      box-shadow: 0 4px 12px var(--shadow);
    }
    
    /* Math equations */
    .blog-content .MathJax {
      font-size: 1.1rem !important;
    }
    
    /* Loading state */
    .loading {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 400px;
      color: var(--text-light);
      font-size: 1.1rem;
    }
    
    /* Error state */
    .error {
      background: #fee;
      border: 1px solid #fcc;
      border-radius: 8px;
      padding: 2rem;
      margin: 2rem 0;
      text-align: center;
      color: #c33;
    }

    /* ===== Responsive ===== */
    @media(max-width:700px){
      body{flex-direction:column;}
      .mobile-header{display:block;}
      .mobile-footer{display:block;}
      aside{display:none;}
      main{padding:1rem 1.5rem 3rem;}
      .blog-title{font-size:2rem;}
      .blog-content h1{font-size:1.75rem;}
      .blog-content h2{font-size:1.25rem;}
      .blog-content h3{font-size:1.1rem;}
      .blog-meta{flex-direction:column;align-items:flex-start;gap:0.5rem;}
    }
  </style>
</head>
<body>
  <header>
    <nav aria-label="Main navigation">
      <ul>
        <li><a href="index.html">About</a></li>
        <li><a href="blog.html">Blog</a></li>
      </ul>
    </nav>
  </header>
  
  <div class="mobile-header">
    <div class="mobile-header-content">
      <div class="mobile-profile">
        <img src="images/profile.png" alt="Marawan Gamal" class="mobile-avatar" />
        <div class="mobile-info">
          <h2>Marawan Gamal</h2>
          <p>PhD Computer Science ‚Ä¢ Mila / UdeM</p>
        </div>
      </div>
      <button class="mobile-menu-btn" id="mobileMenuBtn">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>
  
  <div class="mobile-menu" id="mobileMenu">
    <div class="mobile-menu-header">
      <h3>Menu</h3>
      <button class="mobile-menu-close" id="mobileMenuClose">√ó</button>
    </div>
    <nav class="mobile-menu-nav">
      <a href="index.html">About</a>
      <a href="index.html#publications">Publications</a>
      <a href="index.html#projects">Special Projects</a>
      <a href="blog.html">Blog</a>
      <a href="index.html#contact">Contact</a>
    </nav>
    <div class="mobile-menu-footer">
      <a href="https://www.linkedin.com/in/marawangamal">
        <svg viewBox="0 0 24 24">
          <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
        </svg>
      </a>
      <a href="https://github.com/marawangamal">
        <svg viewBox="0 0 24 24">
          <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.30 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
        </svg>
      </a>
      <a href="https://scholar.google.com/citations?user=1O_Bb-gAAAAJ&hl=en">
        <svg viewBox="0 0 640 640">
          <path d="M454.9 362.5C454.9 362.5 454.9 362.6 455 362.6C464.2 382 469.4 403.7 469.4 426.6C469.3 509.1 402.5 576 320 576C237.5 576 170.7 509.1 170.7 426.7C170.7 403.8 175.9 382.1 185.1 362.7C186.8 359.1 188.7 355.5 190.7 352C195.1 344.4 200.1 337.3 205.7 330.7C233.1 298.1 274.2 277.4 320.1 277.4C353.7 277.4 384.7 288.5 409.7 307.3C418.8 314.2 427.1 322 434.5 330.8C440.1 337.4 445.1 344.6 449.5 352.1C451.5 355.5 453.3 359.1 455 362.6L454.9 362.5zM481.3 343.7C451.2 285.3 390.3 245.3 320 245.3C249.7 245.3 188.8 285.3 158.7 343.7L64 266.7L320 64L576 266.7L481.3 343.8L481.3 343.7z"/>
        </svg>
      </a>
    </div>
  </div>
  
  <aside>
    <div class="sidebar-header">
      <img src="images/profile.png" alt="Marawan Gamal" class="avatar" />
      <h1>Marawan Gamal</h1>
      <p class="role">PhD Computer Science<br>Mila / UdeM</p>
      <div class="info">
        <span class="location"><span>üìç</span>Montreal</span>
      </div>
    </div>
    <nav class="sidebar-nav">
      <a href="index.html">About</a>
      <a href="index.html#publications">Publications</a>
      <a href="index.html#projects">Special Projects</a>
      <a href="blog.html">Blog</a>
      <a href="index.html#contact">Contact</a>
    </nav>
    <div class="sidebar-footer">
      <a href="https://www.linkedin.com/in/marawangamal">
        <svg viewBox="0 0 24 24">
          <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
        </svg>
      </a>
      <a href="https://github.com/marawangamal">
        <svg viewBox="0 0 24 24">
          <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
        </svg>
      </a>
      <a href="https://scholar.google.com/citations?user=1O_Bb-gAAAAJ&hl=en">
        <svg viewBox="0 0 640 640">
          <path d="M454.9 362.5C454.9 362.5 454.9 362.6 455 362.6C464.2 382 469.4 403.7 469.4 426.6C469.3 509.1 402.5 576 320 576C237.5 576 170.7 509.1 170.7 426.7C170.7 403.8 175.9 382.1 185.1 362.7C186.8 359.1 188.7 355.5 190.7 352C195.1 344.4 200.1 337.3 205.7 330.7C233.1 298.1 274.2 277.4 320.1 277.4C353.7 277.4 384.7 288.5 409.7 307.3C418.8 314.2 427.1 322 434.5 330.8C440.1 337.4 445.1 344.6 449.5 352.1C451.5 355.5 453.3 359.1 455 362.6L454.9 362.5zM481.3 343.7C451.2 285.3 390.3 245.3 320 245.3C249.7 245.3 188.8 285.3 158.7 343.7L64 266.7L320 64L576 266.7L481.3 343.8L481.3 343.7z"/>
        </svg>
      </a>
    </div>
  </aside>

  <main>
    <a href="blog.html" class="back-link">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
      Back to Blog
    </a>
    
    <div id="blog-content">
      <div class="loading">Loading blog post...</div>
    </div>
  </main>
  
  <footer class="mobile-footer">
    <div class="mobile-footer-links">
      <a href="https://www.linkedin.com/in/marawangamal">
        <svg viewBox="0 0 24 24">
          <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
        </svg>
      </a>
      <a href="https://github.com/marawangamal">
        <svg viewBox="0 0 24 24">
          <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
        </svg>
      </a>
      <a href="https://scholar.google.com/citations?user=1O_Bb-gAAAAJ&hl=en">
        <svg viewBox="0 0 640 640">
          <path d="M454.9 362.5C454.9 362.5 454.9 362.6 455 362.6C464.2 382 469.4 403.7 469.4 426.6C469.3 509.1 402.5 576 320 576C237.5 576 170.7 509.1 170.7 426.7C170.7 403.8 175.9 382.1 185.1 362.7C186.8 359.1 188.7 355.5 190.7 352C195.1 344.4 200.1 337.3 205.7 330.7C233.1 298.1 274.2 277.4 320.1 277.4C353.7 277.4 384.7 288.5 409.7 307.3C418.8 314.2 427.1 322 434.5 330.8C440.1 337.4 445.1 344.6 449.5 352.1C451.5 355.5 453.3 359.1 455 362.6L454.9 362.5zM481.3 343.7C451.2 285.3 390.3 245.3 320 245.3C249.7 245.3 188.8 285.3 158.7 343.7L64 266.7L320 64L576 266.7L481.3 343.8L481.3 343.7z"/>
        </svg>
      </a>
    </div>
  </footer>

  <script>
    // Mobile menu functionality
    function toggleMobileMenu() {
      const menuBtn = document.getElementById('mobileMenuBtn');
      const menu = document.getElementById('mobileMenu');
      const closeBtn = document.getElementById('mobileMenuClose');
      
      menuBtn.addEventListener('click', () => {
        menu.classList.add('active');
        menuBtn.classList.add('active');
      });
      
      closeBtn.addEventListener('click', () => {
        menu.classList.remove('active');
        menuBtn.classList.remove('active');
      });
      
      // Close menu when clicking on a link
      document.querySelectorAll('.mobile-menu-nav a').forEach(link => {
        link.addEventListener('click', () => {
          menu.classList.remove('active');
          menuBtn.classList.remove('active');
        });
      });
      
      // Close menu when clicking outside
      menu.addEventListener('click', (e) => {
        if (e.target === menu) {
          menu.classList.remove('active');
          menuBtn.classList.remove('active');
        }
      });
    }
    
    // Extract blog post name from URL parameter
    function getPostName() {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get('post');
    }
    
    // Extract frontmatter from markdown content
    function extractFrontmatter(content) {
      const frontmatterRegex = /^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/;
      const match = content.match(frontmatterRegex);
      
      if (match) {
        const frontmatter = {};
        const frontmatterLines = match[1].split('\n');
        frontmatterLines.forEach(line => {
          const colonIndex = line.indexOf(':');
          if (colonIndex > -1) {
            const key = line.substring(0, colonIndex).trim();
            let value = line.substring(colonIndex + 1).trim();
            
            // Handle quoted strings
            if ((value.startsWith('"') && value.endsWith('"')) || 
                (value.startsWith("'") && value.endsWith("'"))) {
              value = value.slice(1, -1);
            }
            
            // Handle arrays (tags)
            if (value.startsWith('[') && value.endsWith(']')) {
              try {
                value = JSON.parse(value);
              } catch (e) {
                // If JSON parsing fails, treat as string
              }
            }
            
            frontmatter[key] = value;
          }
        });
        return {
          frontmatter,
          content: match[2]
        };
      }
      
      // Fallback: try to extract title and date from first lines
      const lines = content.split('\n');
      let title = '';
      let date = '';
      let contentStart = 0;
      
      for (let i = 0; i < lines.length; i++) {
        const line = lines[i].trim();
        if (line.startsWith('# ') && !title) {
          title = line.substring(2);
          contentStart = i + 1;
        } else if (line.startsWith('*') && line.endsWith('*') && !date) {
          date = line.replace(/^\*|\*$/g, '');
          contentStart = Math.max(contentStart, i + 1);
        } else if (title && date) {
          break;
        }
      }
      
      return {
        frontmatter: { title, date },
        content: lines.slice(contentStart).join('\n')
      };
    }
    
    // Load and render blog post
    async function loadBlogPost() {
      const postName = getPostName();
      
      if (!postName) {
        document.getElementById('blog-content').innerHTML = `
          <div class="error">
            <h2>Blog post not found</h2>
            <p>No blog post specified in the URL.</p>
          </div>
        `;
        return;
      }
      
      try {
        const response = await fetch(`blogs/${postName}.md`);
        
        if (!response.ok) {
          throw new Error(`Blog post "${postName}" not found`);
        }
        
        const markdown = await response.text();
        const { frontmatter, content } = extractFrontmatter(markdown);
        
        // Update page title and meta tags
        const title = frontmatter.title || 'Blog Post';
        const date = frontmatter.date || '';
        
        document.getElementById('page-title').textContent = `${title} - Marawan Gamal`;
        document.getElementById('og-title').content = title;
        document.getElementById('twitter-title').content = `${title} - Marawan Gamal`;
        
        // Generate excerpt for meta description
        const plainText = content.replace(/[#*`\[\]()]/g, '').substring(0, 160);
        document.getElementById('page-description').content = plainText;
        document.getElementById('meta-description').content = plainText;
        document.getElementById('twitter-description').content = plainText;
        
        // Configure marked.js options
        marked.setOptions({
          breaks: true,
          gfm: true
        });
        
        // Convert markdown to HTML
        const htmlContent = marked.parse(content);
        
        // Create the blog post HTML
        const blogHTML = `
          <div class="blog-header">
            <h1 class="blog-title">${title}</h1>
            <div class="blog-meta">
              ${date ? `<div class="blog-date">${date}</div>` : ''}
            </div>
          </div>
          <div class="blog-content">
            ${htmlContent}
          </div>
        `;
        
        document.getElementById('blog-content').innerHTML = blogHTML;
        
        // Re-render MathJax
        if (window.MathJax) {
          MathJax.typesetPromise();
        }
        
      } catch (error) {
        console.error('Error loading blog post:', error);
        document.getElementById('blog-content').innerHTML = `
          <div class="error">
            <h2>Error loading blog post</h2>
            <p>${error.message}</p>
          </div>
        `;
      }
    }
    
    // Initialize on page load
    window.addEventListener('load', () => {
      toggleMobileMenu();
      loadBlogPost();
    });
  </script>

</body>
</html>